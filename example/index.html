<html>
    <head>
        <link rel="stylesheet" href="style.css" />
        <script src="https://unpkg.com/@adobe/magento-storefront-events-sdk@0.3.1/dist/index.js"></script>

        <script>
            window.magentoStorefrontEvents.context.setMagentoExtension({
                magentoExtensionVersion: "1.2.3",
            });

            window.magentoStorefrontEvents.context.setStorefrontInstance({
                baseCurrencyCode: "USD",
                storeViewCurrencyCode: "USD",
                environment: "production",
                environmentId: "aaaaaa",
                instanceId: "bbbbbb",
                storeCode: "magento",
                storeId: 111111,
                storeName: "magento",
                storeUrl: "https://magento.com",
                storeViewCode: "default",
                storeViewId: 222222,
                storeViewName: "default",
                websiteCode: "website",
                websiteId: 333333,
                websiteName: "website",
            });

            window.magentoStorefrontEvents.context.setShopper({
                shopperId: "logged-in",
            });

            window.magentoStorefrontEvents.context.setSearchInput({
                source: "search-bar",
                query: "red patns",
                page: 1,
                perPage: 20,
                refinementAttribute: null,
                refinementSelection: null,
                sortType: "relevance",
                sortOrder: "descending",
            });

            window.magentoStorefrontEvents.context.setSearchResults({
                products: [
                    {
                        name: "Red Pants",
                        sku: "abc123",
                        url: "https://magento.com/red-pants",
                        imageUrl: "https://magento.com/red-pants.jpg",
                        price: 49.99,
                        rank: 1,
                    },
                ],
                suggestions: [
                    {
                        suggestion: "red pants",
                        rank: 1,
                    },
                ],
                categories: [
                    {
                        name: "Pants",
                        url: "https://magento.com/category/pants",
                        rank: 1,
                    },
                    {
                        name: "Bottoms",
                        url: "https://magento.com/category/bottoms",
                        rank: 2,
                    },
                ],
                page: 1,
                perPage: 20,
                productCount: 1,
                categoryCount: 2,
                suggestionCount: 1,
            });

            function fireEvent(event) {
                console.log(event.target.value);
                magentoStorefrontEvents.publish[event.target.value]();
            }
        </script>

        <script src="http://localhost:8080/index.js"></script>
    </head>

    <body>
        <div class="events">
            <button value="searchCategoryClick" onclick="fireEvent(event)">
                searchCategoryClick
            </button>

            <button value="searchProductClick" onclick="fireEvent(event)">
                searchProductClick
            </button>

            <button value="searchRequestSent" onclick="fireEvent(event)">
                searchRequestSent
            </button>

            <button value="searchResponseReceived" onclick="fireEvent(event)">
                searchResponseReceived
            </button>

            <button value="searchResultsView" onclick="fireEvent(event)">
                searchResultsView
            </button>

            <button value="searchSuggestionClick" onclick="fireEvent(event)">
                searchSuggestionClick
            </button>
        </div>
    </body>
</html>
